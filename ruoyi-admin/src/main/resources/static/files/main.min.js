function verifyExplorerVersion(){var e=window.navigator.userAgent;if(e.indexOf("MSIE")>=0){var t=(navigator.appName,navigator.appVersion),n=t.split(";"),o=n[1].replace(/[ ]/g,""),a="0";a=o.substring(o.indexOf("E")+1,o.length),parseFloat(a)<parseFloat("9.0")&&alert("您正在使用 Internet Explorer "+a+"，本页面无法正常显示，建议您升级到IE9")}}var we=we||{};we.pages=we.pages||{},we.pages.home=function(){function e(){}function t(){}function n(){}var o=function(){console.log("TODO: 初始化方法"),e(),t(),n()};return o(),{}};var we=we||{};we.common={dateFormat:function(e,t){var n=new Date,o=["日","一","二","三","四","五","六"];e&&n.setTime(e),t=t||"yyyy-mm-dd";var a={"m+":n.getMonth()+1,"d+":n.getDate(),"w+":o[n.getDay()],"h+":n.getHours(),"M+":n.getMinutes(),"s+":n.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},setCookie:function(e,t,n){if(n<=0)document.cookie=e+"="+decodeURIComponent(t)+";path=/";else{var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e+"="+decodeURIComponent(t)+";expires="+o.toGMTString()+";path=/"}},deleteCookie:function(e){var t=this.getCookie(e);null!=t&&this.setCookie(e,"",-1)},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null},appendScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},getGUID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},addOpenPageTrace:function(){var e=we.common.getCookie("tongji_key");e||(e=we.common.getGUID(),we.common.setCookie("tongji_key",e,-1));var t=we.common.getPlatformData();t.memberId=e,tongji.openPage(t)},getPlatformData:function(){var e={sign:"ts_blue",platform:"",webSource:"PC_JINJIANG"},t=window.location.host.split(":")[0];t.split(".");switch(t){case"campanile.bestwehotel.net":case"campanile.bestwehotel.com":case"www.campanilechina.com":e.platform="康铂品牌官网";break;case"www.metropolohotels.com":case"metropolo.bestwehotel.net":e.platform="都城品牌官网",e.webSource="PC_METROPOLO";break;default:e.platform=t}return e}};var weCommonLogin=function(){function e(){var e=we.common.getCookie(a);e&&$.ajax({url:"/api/common/queryMemberInfo",type:"post",dataType:"json",timeout:1e4,contentType:"application/json",cache:!1,success:function(e){e.success&&null!=e.data&&""!=e.data&&t(e.data)},fail:function(e){console.log(e)},error:function(e){console.log(e)}})}function t(e){$(".header-login").css("display","none"),$(".header-logined").css("display","block"),$(".header-logined .logined span").innerHTML=e.memberName,$(".header-logined .login-box div span")[0].innerHTML="V"+e.memberLevel,$(".header-logined .login-box div span")[1].innerHTML=e.cardNo,$(".header-logined .login-box div span")[2].innerHTML=e.score,setTimeout(function(){$(".logout").click(function(){n()})},500)}function n(){$.ajax({url:"/api/common/logout",type:"post",dataType:"json",timeout:1e4,contentType:"application/json",cache:!1,success:function(e){e.success&&($(".header-login").css("display","block"),$(".header-logined").css("display","none"))},fail:function(e){console.log(e)},error:function(e){console.log(e)}})}function o(){$(".header-login").css("display","none"),$(".header-logined").css("display","block")}var a="wehotel_sso_token";return{initEvent:function(){return o()},showMemberInfo:function(){return t()},checkLoginStatus:function(){return e()},logout:function(){return n()}}}();!function(e,t,n){function o(e,t){this.el=e,this.options={pageNo:t.initPageNo||1,totalPages:t.totalPages||1,totalCount:t.totalCount||"",slideSpeed:t.slideSpeed||0,jump:t.jump||!1,callback:t.callback||function(){}},this.init()}o.prototype={constructor:o,init:function(){this.createDom(),this.bindEvents()},createDom:function(){var e=this,t="",n="",o="",a=30,i=e.options.totalPages,s=0;s=i>5?5*a:i*a;for(var l=1;l<=e.options.totalPages;l++)t+=1!=l?"<li>"+l+"</li>":'<li class="sel-page">'+l+"</li>";n=e.options.jump?'<input type="text" placeholder="1" class="jump-text" id="jumpText"><button type="button" class="jump-button" id="jumpBtn">跳转</button>':"",o='<button type="button" id="firstPage" class="turnPage first-page">首页</button><button class="turnPage" id="prePage">上一页</button><div class="pageWrap" style="width:'+s+'px"><ul id="pageSelect" style="transition:all '+e.options.slideSpeed+'ms">'+t+'</ul></div><button class="turnPage" id="nextPage">下一页</button><button type="button" id="lastPage" class="last-page">尾页</button>'+n+'<p class="total-pages">共&nbsp;'+e.options.totalPages+'&nbsp;页</p><p class="total-count">共&nbsp;'+e.options.totalCount+"&nbsp;条</p>",e.el.html(o)},bindEvents:function(){function t(e){return a.removeClass("sel-page").eq(e-1).addClass("sel-page"),s<=5?(n.options.callback(e),!1):(e>=3&&e<=s-2&&(r=(e-3)*i),2!=e&&1!=e||(r=0),e>s-2&&(r=(s-5)*i),o.css("transform","translateX("+-r+"px)"),1==e?p.attr("disabled",!0):p.attr("disabled",!1),1==e?c.attr("disabled",!0):c.attr("disabled",!1),e==s?d.attr("disabled",!0):d.attr("disabled",!1),e==s?u.attr("disabled",!0):u.attr("disabled",!1),void n.options.callback(e))}var n=this,o=n.el.find("#pageSelect"),a=o.children(),i=30,s=n.options.totalPages,l=n.options.pageNo,r=0,c=n.el.find("#prePage"),u=n.el.find("#nextPage"),p=n.el.find("#firstPage"),d=n.el.find("#lastPage"),g=n.el.find("#jumpBtn"),f=n.el.find("#jumpText");c.on("click",function(){l--,l<1&&(l=1),t(l)}),u.on("click",function(){l++,l>a.length&&(l=a.length),t(l)}),p.on("click",function(){l=1,t(l)}),d.on("click",function(){l=s,t(l)}),g.on("click",function(){var e=parseInt(f.val().replace(/\D/g,""));e&&e>=1&&e<=s&&(l=e,t(l),f.val(e))}),a.on("click",function(){l=e(this).index()+1,t(l)}),t(n.options.pageNo)}},e.fn.paging=function(t){return new o(e(this),t)}}(jQuery,window,document),verifyExplorerVersion();